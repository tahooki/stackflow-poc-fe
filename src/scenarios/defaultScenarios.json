{
  "scenarios": [
    {
      "id": "stack-basic-flow",
      "title": "스택 기본 흐름",
      "description": "A → B → C 후 CLEAR_TOP으로 B 복귀 시 플래그 동작을 검증합니다.",
      "flagLabel": "STACK",
      "entry": {
        "activityId": "activity-a"
      },
      "activities": [
        {
          "id": "activity-a",
          "stageName": "Flow Stage",
          "activityTitle": "Activity A",
          "elements": [
            {
              "id": "activity-a-intro",
              "type": "text",
              "params": {
                "body": "시작 화면입니다. 아래 버튼을 눌러 Activity B로 이동합니다."
              }
            },
            {
              "id": "activity-a-forward",
              "type": "navigate",
              "params": {
                "label": "Go to Activity B",
                "targetActivityId": "activity-b",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "activity-a-note",
              "type": "text",
              "params": {
                "body": "스택 최상단에는 항상 가장 마지막에 push된 Activity가 위치합니다.",
                "tone": "muted"
              }
            }
          ]
        },
        {
          "id": "activity-b",
          "stageName": "Flow Stage",
          "activityTitle": "Activity B",
          "elements": [
            {
              "id": "activity-b-intro",
              "type": "text",
              "params": {
                "body": "Activity B입니다. 여러 플래그를 시험해 보세요."
              }
            },
            {
              "id": "activity-b-forward",
              "type": "navigate",
              "params": {
                "label": "Push Activity C",
                "targetActivityId": "activity-c",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "activity-b-single-top",
              "type": "navigate",
              "params": {
                "label": "Re-enter B (SINGLE_TOP)",
                "targetActivityId": "activity-b",
                "navFlag": { "flag": "SINGLE_TOP" },
                "flagBadge": "SINGLE_TOP"
              }
            }
          ]
        },
        {
          "id": "activity-c",
          "stageName": "Flow Stage",
          "activityTitle": "Activity C",
          "elements": [
            {
              "id": "activity-c-intro",
              "type": "text",
              "params": {
                "body": "Activity C입니다. CLEAR_TOP으로 B를 최상단으로 끌어올립니다."
              }
            },
            {
              "id": "activity-c-clear-top",
              "type": "navigate",
              "params": {
                "label": "CLEAR_TOP to Activity B",
                "targetActivityId": "activity-b",
                "navFlag": { "flag": "CLEAR_TOP", "activity": "activity-b" },
                "flagBadge": "CLEAR_TOP"
              }
            },
            {
              "id": "activity-c-home",
              "type": "navigate",
              "params": {
                "label": "CLEAR_STACK (Reset)",
                "targetActivityId": "activity-a",
                "navFlag": { "flag": "CLEAR_STACK" },
                "flagBadge": "CLEAR_STACK"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "jump-to-flow",
      "title": "JUMP_TO 이동",
      "description": "navFlag.activity로 지정한 대상로 즉시 이동합니다. targetActivityId와 무관하게 동작을 확인합니다.",
      "flagLabel": "JUMP_TO",
      "entry": {
        "activityId": "entry-a"
      },
      "activities": [
        {
          "id": "entry-a",
          "stageName": "Flow Stage",
          "activityTitle": "Entry A",
          "elements": [
            {
              "id": "entry-a-intro",
              "type": "text",
              "params": {
                "body": "Entry A입니다. 일반 PUSH와 JUMP_TO의 차이를 관찰하세요."
              }
            },
            {
              "id": "entry-a-push-b",
              "type": "navigate",
              "params": {
                "label": "Push B",
                "targetActivityId": "activity-b",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "entry-a-jump-to-c",
              "type": "navigate",
              "params": {
                "label": "JUMP_TO to C (override target=B)",
                "targetActivityId": "activity-b",
                "navFlag": { "flag": "JUMP_TO", "activity": "activity-c" },
                "flagBadge": "JUMP_TO"
              }
            },
            {
              "id": "entry-a-push-c",
              "type": "navigate",
              "params": {
                "label": "Push C",
                "targetActivityId": "activity-c",
                "flagBadge": "PUSH"
              }
            }
          ]
        },
        {
          "id": "activity-b",
          "stageName": "Flow Stage",
          "activityTitle": "Activity B",
          "elements": [
            {
              "id": "activity-b-intro",
              "type": "text",
              "params": {
                "body": "Activity B입니다. 아래 버튼으로 JUMP_TO를 시험합니다."
              }
            },
            {
              "id": "activity-b-jump-to-a",
              "type": "navigate",
              "params": {
                "label": "JUMP_TO to A",
                "targetActivityId": "entry-a",
                "navFlag": { "flag": "JUMP_TO", "activity": "entry-a" },
                "flagBadge": "JUMP_TO"
              }
            },
            {
              "id": "activity-b-push-c",
              "type": "navigate",
              "params": {
                "label": "Push C",
                "targetActivityId": "activity-c",
                "flagBadge": "PUSH"
              }
            }
          ]
        },
        {
          "id": "activity-c",
          "stageName": "Flow Stage",
          "activityTitle": "Activity C",
          "elements": [
            {
              "id": "activity-c-intro",
              "type": "text",
              "params": {
                "body": "Activity C입니다. CLEAR_STACK으로 초기화할 수 있습니다."
              }
            },
            {
              "id": "activity-c-reset",
              "type": "navigate",
              "params": {
                "label": "Reset (CLEAR_STACK)",
                "targetActivityId": "entry-a",
                "navFlag": { "flag": "CLEAR_STACK" },
                "flagBadge": "CLEAR_STACK"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "clear-top-single-top-flow",
      "title": "CLEAR_TOP + SINGLE_TOP 조합",
      "description": "대상이 스택에 있으면 CLEAR_TOP, 없으면 SINGLE_TOP으로 재진입/추가됩니다.",
      "flagLabel": "CLEAR_TOP_SINGLE_TOP",
      "entry": {
        "activityId": "stage-a"
      },
      "activities": [
        {
          "id": "stage-a",
          "stageName": "Flow Stage",
          "activityTitle": "Stage A",
          "elements": [
            {
              "id": "stage-a-intro",
              "type": "text",
              "params": {
                "body": "Stage A입니다. 먼저 B를 push한 다음 CLEAR_TOP_SINGLE_TOP 동작을 비교하세요."
              }
            },
            {
              "id": "stage-a-push-b",
              "type": "navigate",
              "params": {
                "label": "Push B",
                "targetActivityId": "stage-b",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "stage-a-cts-to-b",
              "type": "navigate",
              "params": {
                "label": "CLEAR_TOP_SINGLE_TOP to B (from A)",
                "targetActivityId": "stage-b",
                "navFlag": {
                  "flag": "CLEAR_TOP_SINGLE_TOP",
                  "activity": "stage-b"
                },
                "flagBadge": "CLEAR_TOP_SINGLE_TOP"
              }
            }
          ]
        },
        {
          "id": "stage-b",
          "stageName": "Flow Stage",
          "activityTitle": "Stage B",
          "elements": [
            {
              "id": "stage-b-intro",
              "type": "text",
              "params": {
                "body": "Stage B입니다. C를 push한 뒤 CLEAR_TOP_SINGLE_TOP으로 B를 끌어올리세요."
              }
            },
            {
              "id": "stage-b-push-c",
              "type": "navigate",
              "params": {
                "label": "Push C",
                "targetActivityId": "stage-c",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "stage-b-cts-reenter-b",
              "type": "navigate",
              "params": {
                "label": "CLEAR_TOP_SINGLE_TOP to B (on B)",
                "targetActivityId": "stage-b",
                "navFlag": {
                  "flag": "CLEAR_TOP_SINGLE_TOP",
                  "activity": "stage-b"
                },
                "flagBadge": "CLEAR_TOP_SINGLE_TOP"
              }
            }
          ]
        },
        {
          "id": "stage-c",
          "stageName": "Flow Stage",
          "activityTitle": "Stage C",
          "elements": [
            {
              "id": "stage-c-intro",
              "type": "text",
              "params": {
                "body": "Stage C입니다. 아래 버튼으로 B를 CLEAR_TOP_SINGLE_TOP으로 끌어올립니다."
              }
            },
            {
              "id": "stage-c-cts-to-b",
              "type": "navigate",
              "params": {
                "label": "CLEAR_TOP_SINGLE_TOP to B",
                "targetActivityId": "stage-b",
                "navFlag": {
                  "flag": "CLEAR_TOP_SINGLE_TOP",
                  "activity": "stage-b"
                },
                "flagBadge": "CLEAR_TOP_SINGLE_TOP"
              }
            },
            {
              "id": "stage-c-reset",
              "type": "navigate",
              "params": {
                "label": "Reset (CLEAR_STACK)",
                "targetActivityId": "stage-a",
                "navFlag": { "flag": "CLEAR_STACK" },
                "flagBadge": "CLEAR_STACK"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "jump-to-clear-top-flow",
      "title": "JUMP_TO_CLEAR_TOP 이동",
      "description": "대상이 스택에 있으면 되감아 재진입, 없으면 새로 push합니다.",
      "flagLabel": "JUMP_TO_CLEAR_TOP",
      "entry": {
        "activityId": "start-a"
      },
      "activities": [
        {
          "id": "start-a",
          "stageName": "Flow Stage",
          "activityTitle": "Start A",
          "elements": [
            {
              "id": "start-a-intro",
              "type": "text",
              "params": {
                "body": "Start A입니다. B와 D를 push한 후, JUMP_TO_CLEAR_TOP으로 B로 되감는 동작을 확인하세요."
              }
            },
            {
              "id": "start-a-push-b",
              "type": "navigate",
              "params": {
                "label": "Push B",
                "targetActivityId": "start-b",
                "flagBadge": "PUSH"
              }
            },
            {
              "id": "start-a-jtct-to-e",
              "type": "navigate",
              "params": {
                "label": "JUMP_TO_CLEAR_TOP to E (not in stack)",
                "targetActivityId": "start-e",
                "navFlag": {
                  "flag": "JUMP_TO_CLEAR_TOP",
                  "activity": "start-e"
                },
                "flagBadge": "JUMP_TO_CLEAR_TOP"
              }
            }
          ]
        },
        {
          "id": "start-b",
          "stageName": "Flow Stage",
          "activityTitle": "Start B",
          "elements": [
            {
              "id": "start-b-intro",
              "type": "text",
              "params": {
                "body": "Start B입니다. D를 push한 뒤 D에서 JUMP_TO_CLEAR_TOP으로 B로 되감아 보세요."
              }
            },
            {
              "id": "start-b-push-d",
              "type": "navigate",
              "params": {
                "label": "Push D",
                "targetActivityId": "start-d",
                "flagBadge": "PUSH"
              }
            }
          ]
        },
        {
          "id": "start-d",
          "stageName": "Flow Stage",
          "activityTitle": "Start D",
          "elements": [
            {
              "id": "start-d-intro",
              "type": "text",
              "params": {
                "body": "Start D입니다. 아래 버튼으로 B를 JUMP_TO_CLEAR_TOP으로 끌어올립니다."
              }
            },
            {
              "id": "start-d-jtct-to-b",
              "type": "navigate",
              "params": {
                "label": "JUMP_TO_CLEAR_TOP to B",
                "targetActivityId": "start-b",
                "navFlag": {
                  "flag": "JUMP_TO_CLEAR_TOP",
                  "activity": "start-b"
                },
                "flagBadge": "JUMP_TO_CLEAR_TOP"
              }
            },
            {
              "id": "start-d-reset",
              "type": "navigate",
              "params": {
                "label": "Reset (CLEAR_STACK)",
                "targetActivityId": "start-a",
                "navFlag": { "flag": "CLEAR_STACK" },
                "flagBadge": "CLEAR_STACK"
              }
            }
          ]
        },
        {
          "id": "start-e",
          "stageName": "Flow Stage",
          "activityTitle": "Start E",
          "elements": [
            {
              "id": "start-e-intro",
              "type": "text",
              "params": {
                "body": "Start E입니다. JUMP_TO_CLEAR_TOP으로 도착했습니다."
              }
            },
            {
              "id": "start-e-reset",
              "type": "navigate",
              "params": {
                "label": "Reset (CLEAR_STACK)",
                "targetActivityId": "start-a",
                "navFlag": { "flag": "CLEAR_STACK" },
                "flagBadge": "CLEAR_STACK"
              }
            }
          ]
        }
      ]
    }
  ]
}
